<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />


<meta name="author" content="Wei Wang" />


<title>Higher Education in New York State</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/simplex.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<link href="site_libs/font-awesome-5.0.13/css/fa-svg-with-js.css" rel="stylesheet" />
<script src="site_libs/font-awesome-5.0.13/js/fontawesome-all.min.js"></script>
<script src="site_libs/font-awesome-5.0.13/js/fa-v4-shims.min.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="styles.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 41px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 46px;
  margin-top: -46px;
}

.section h2 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h3 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h4 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h5 {
  padding-top: 46px;
  margin-top: -46px;
}
.section h6 {
  padding-top: 46px;
  margin-top: -46px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">R Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/adammwilson/RDataScience">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Higher Education in New York State</h1>
<h3 class="subtitle"><em>Distribution of public universities</em></h3>
<h4 class="author"><em>Wei Wang</em></h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>The accessibility of public education is always an important things for people. In New York state, there are 61 public universities or colleges for high education. However, when presenting them on the map, we found that in some areas, there a several clustered schools together, while in some other areas, the nearest university or college are too far away. This means that peopel living in some areas of New York state have an inaccessibity on high education. Lack of necessary will be a big social problem for local residents, and if the government have budget to build a new one, it will be important to cover those in need. Since it can be a p-median problem, we can use a package called tbart to solve such kind of location analysis problem.<br />
And here are two pictures by using IDW and Kriging, showing the public high educational level in the whole state.</p>
<div class="figure">
<img src="data/IDW.jpg" />

</div>
<div class="figure">
<img src="data/Kriging.jpg" />

</div>
<p>From these two pictures, though there are some differences, we can find that at the north of the state, public university is lack. So if in the future, the state government want to build more community colleges, we have a rough guess about the potential sites to choose from.</p>
</div>
<div id="methods-and-data-preparation" class="section level1">
<h1>methods and Data preparation</h1>
<div id="methods" class="section level2">
<h2>Methods</h2>
<ul>
<li>Using Arcgis to do geocoding work with New York State locator</li>
<li>Visualizing the distribution of population in New York State</li>
<li>Visualizing the distribution of public universities and colleges in New York State</li>
<li>Using kriging to build a map in order to see if there are some areas lack of influences by public education</li>
<li>Solve it as p-median problem, finding when we add the number of new schools, where will be the best choice</li>
</ul>
</div>
<div id="data-preparation" class="section level2">
<h2>Data preparation</h2>
<p>Load any required packages in a code chunk (you may need to install some packages):</p>
<pre class="r"><code>library(maptools)
library(sf)
library(ggplot2)
library(dplyr)
library(tbart)</code></pre>
<pre class="r"><code># load data
schools &lt;- sf::st_read (&#39;data/school.shp&#39;)
population &lt;- sf::st_read (&#39;data/Cities_Towns.shp&#39;)</code></pre>
<pre class="r"><code># data wrangling
schools=schools%&gt;%mutate(total_students=Undergradu+Graduate_E)
sf_population=st_as_sf(population)
sf_schools=st_as_sf(schools)</code></pre>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<pre class="r"><code>#map of distribution of population
sf_population%&gt;%ggplot()+
  geom_sf(aes(fill=-log2(POP2010)))+
  theme(legend.position = &#39;bottom&#39;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
<pre class="r"><code>#map of distribution of public universities and colleges
ggplot()+
  geom_sf(data=sf_population,aes(fill=-log2(POP2010)))+
  geom_sf(data=sf_schools,aes(colour=&#39;pink&#39;))+
  theme(legend.position = &#39;bottom&#39;)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>#change sf data to sp data
sp_population = as(population, &quot;Spatial&quot;)</code></pre>
<pre class="r"><code>#find the towns/cities already covered
covered = c(10,18,38,47,56,76,95,100,105,124,129,173,205,208,235,246,249,301,329,399,401,436,439,447,500,531,532,553,581,594,602,622,641,656,707,720,722,734,735,749,787,793,821,822,841,863,864,881,897,925,953,956,989)</code></pre>
<pre class="r"><code>#solve p-median problem(take really long time)
dist &lt;- matrix()
universities = matrix()
set.seed(12345)
for (i in 1:11){
  loc&lt;- allocations(sp_population,metric = sp_population$POP2010*euc.dists(sp_population),p=i+52,force = covered)
  universities[i] = unique(loc$allocation)
  dist[i] &lt;- sum(loc$allocdist) 
}
p &lt;- c(0:10)
plot(p,dist)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-1.png" width="672" /></p>
<pre class="r"><code>delta_dist &lt;- matrix()
for (j in 1:10){
delta_dist[j] = dist[j+1]-dist[j]
}
add &lt;- c(1:10)
plot(add,delta_dist)</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-8-2.png" width="672" /></p>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>From the previous charts, we can find that when add one more community college, the best location is Rochester, but the total weighted distance decrease a lot. However, after that if we add one more again, the best location is Islip, and this time the total weighted distance decrease much less. It is quite different from our pervious assumption that both of these two towns are not located in the north of New York State, it’s obvious that the weight, population, plays a big role in our decision In p-median problem, we must put the weight in a significant place. Though p-median problem is a classic model in location analysis, it has some limitations, and it can be only a reference in the real decision. When the government decides to build new public facilities, it’s not only a geographic problem, but also a economic and social problem.</p>
</div>
<div id="references" class="section level1">
<h1>References</h1>
<p>The dataset of distribution of public universities and colleges. <a href="https://data.ny.gov/Education/City-University-of-New-York-CUNY-University-Campus/i5b5-imzn" class="uri">https://data.ny.gov/Education/City-University-of-New-York-CUNY-University-Campus/i5b5-imzn</a></p>
<p>The basement map of New York State which contains population data of each county. <a href="https://gis.ny.gov/gisdata/inventories/details.cfm?DSID=1278" class="uri">https://gis.ny.gov/gisdata/inventories/details.cfm?DSID=1278</a></p>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="http://www.adamwilson.us/RDataScience"><i> Spatial Data Science (GEO503) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>


</body>
</html>
